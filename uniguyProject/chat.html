<!doctype html>
<html>

<head>
	<title>chat</title>
	<meta charset="utf8">
	<style type="text/css">
	
		html,body{
			margin: 0 auto;
			padding: 0;
		}

		.chat-section-main{
			margin:1em;
		}

		.chat-main{
			width: 94%;
			padding: 1em;
			display: table;
			overflow: hidden;
			margin-bottom: -.8em;
		}

		.chat-main ul{
			display: table-row;
			list-style: none;
		}

		.chat-main ul li{
			display: table-cell;
			/*padding-right: .6em;*/
		}

		.chat-photo{
			width: 2em;
			height: 2em;
			padding-right: .6em;
			padding-left: 0;
		}

		.chat-photo.right{
			padding-left: .6em;
			padding-right: 0;
		}

		.person-photo{
			width: 100%;
			height: 100%;
			border-radius: 50%;
		}

		.chat-form{
			border:1px solid rgb(216,216,216);
			padding: .6em;
			box-shadow: 0px 0px 6px 1px #CCC;
		}

		.chat-main.left{
			margin-left: 2.6em;
			width: 94%;
		}

		.chat-form:hover{
			box-shadow: 0px 0px 6px 0px #09C7F7;
		}

		.chat-time{
			color: rgb(121,121,121);
			float: right;
			font-size: .8em;
			margin-top: -1em;
			margin-right: 0.4em;
		}

		.chat-attachment{
			width: 130px;
			height: 140px;
			border-radius: 10px;
			background: rgb(111,116,119);
			padding: .6em;
			font-size: 0.8em;
			text-align: center;
			float: left;
		}

		.chat-attachment.right{
			float: right;
		}

		.chat-att-preview{
			width: 60px;
			height: 60px;	
			text-align: center;
		}

		.chat-att-preview img{
			text-align: center;
			width: 100%;
			height: 100%;
		}

		.chat-att-status{
			color: rgb(177,177,177);
			text-align: center;
			margin-top: 40px;
		}

		.chat-att-name{
			margin-top: 0px;
			color: rgb(255,255,255);
			font-weight: 800;
			width: 100%;
			text-align: center;
		}

	</style>
</head>

<body>

	<div class="chat-section">
		<div class="chat-main">
			<ul>
				<li class="chat-photo">
					<img class="person-photo" src="">	
				</li>
				<li class="chat-form">
					<div class="chat-time">2015年01月02日 00:01:21</div>
					dskm,klm
				</li>
			</ul>
		</div>

		<div class="chat-main left">
			<ul>
				<li class="chat-form">
					<div class="chat-time">2015年01月02日 00:01:21</div>
					就是当年都是你说的都是可考虑的是
				</li>
				<li class="chat-photo right">
					<img class="person-photo" src="">	
				</li>
			</ul>
		</div>

		<div class="chat-main">
			<ul>
				<li class="chat-photo">
					<img class="person-photo" src="">	
				</li>
				<li class="chat-form">
					<div class="chat-time">2015年01月02日 00:01:21</div>
					dskm,klm
				</li>
			</ul>
		</div>
		
		<div class="chat-main">
			<ul>
				<li class="chat-photo">
					<img class="person-photo" src="">	
				</li>
				<li>
					<div class="chat-attachment">
						<div class="chat-att-preview">
							<img src="">
						</div>
						<div class="chat-att-status">
							已取消
						</div>
						<div class="chat-att-name">
							fuckubitch.zip
						</div>
					</div>
				</li>
			</ul>
		</div>

		<div class="chat-main">
			<ul>
				<li>
					<div class="chat-attachment right">
						<div class="chat-att-preview">
							<img src="">
						</div>
						<div class="chat-att-status">
							正在发送...
						</div>
						<div class="chat-att-name">
							fuckubitch.zip
						</div>
					</div>
				</li>
				<li class="chat-photo right">
					<img class="person-photo" src="">	
				</li>
			</ul>
		</div>
	</div>

	<div style="margin:2em;"></div>

	<button onclick="send('dssdsd','sdsddssd','sdsdsd')">send</button>
	<button onclick="recive('sdds','sddssd','sdsdsd')">recive</button>
	<button onclick="reciveAttachment('sdds','dsds','已取消','shit.zip')">recive attachment</button>
	<button onclick="sendAttachment('sdds','ssd','已取消','shit.zip')">send attachment</button>

	<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"></script>
	<script type="text/javascript">
			
		function send(content,time,imgsrc){
			$('.chat-section').append('<div class="chat-main left"><ul><li class="chat-form"><div class="chat-time">'+time+'</div>'+content+'</li><li class="chat-photo right"><img class="person-photo" src="'+imgsrc+'"></li></ul></div>');
		}

		function recive(content,time,imgsrc){
			$('.chat-section').append('<div class="chat-main"><ul><li class="chat-photo"><img class="person-photo" src="'+imgsrc+'"></li><li class="chat-form"><div class="chat-time">'+time+'</div>'+content+'</li></ul></div>');
		}

		function sendAttachment(imgsrc,personsrc,status,name){
			$('.chat-section').append('<div class="chat-main"><ul><li><div class="chat-attachment right"><div class="chat-att-preview"><img src="'+imgsrc+'"></div><div class="chat-att-status">'+status+'</div><div class="chat-att-name">'+name+'</div></div></li><li class="chat-photo right"><img class="person-photo" src="'+personsrc+'"></li></ul></div>');
		}

		function reciveAttachment(imgsrc,personsrc,status,name){
			$('.chat-section').append('<div class="chat-main"><ul><li class="chat-photo"><img class="person-photo" src="'+personsrc+'"></li><li><div class="chat-attachment"><div class="chat-att-preview"><img src="'+imgsrc+'"></div><div class="chat-att-status">'+status+'</div><div class="chat-att-name">'+name+'</div></div></li></ul></div>');
		}

		$(document).ready(function(){

		});
	</script>
</body>

</html>